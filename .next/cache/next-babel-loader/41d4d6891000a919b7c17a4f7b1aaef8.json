{"ast":null,"code":"import _Date$now from \"@babel/runtime-corejs2/core-js/date/now\";\nvar _jsxFileName = \"/Users/mrmages/Desktop/GHMEEC/pagination/pages/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from 'react';\nimport fetch from '../libs/fetch';\nimport Link from 'next/link';\nimport useSWR, { useSWRPages, SWRConfig } from 'swr';\nexport default (() => {\n  const {\n    0: pageIn,\n    1: setPageIn\n  } = useState(2);\n  const {\n    pages,\n    isLoadingMore,\n    isReachingEnd,\n    loadMore\n  } = useSWRPages( // page key\n  'demo-page', // page component\n  ({\n    offset,\n    withSWR\n  }) => {\n    const link = 'https://us-east-1.aws.webhooks.mongodb-stitch.com/api/client/v2.0/app/the-ocean-app-ycpma/service/API/incoming_webhook/getNewsFeedsInPages?page=' + (offset || 1);\n    console.log(\"Link : \", link);\n    const {\n      data: projects,\n      error\n    } = withSWR( // use the wrapper to wrap the *pagination API SWR*\n    useSWR(link, {\n      fetcher: fetch,\n      refreshInterval: 0\n    })); // you can still use other SWRs outside\n\n    if (error) {\n      return __jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, \"No internet connection\");\n    }\n\n    if (!projects) {\n      return __jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, \"loading\");\n    }\n\n    return projects.map((project, index) => __jsx(\"div\", {\n      key: index + \"_\" + _Date$now().toString,\n      style: {\n        alignItems: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, __jsx(\"img\", {\n      src: project.image,\n      alt: \"Image\",\n      style: {\n        width: \"100%\",\n        sheight: \"auto\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }), __jsx(\"p\", {\n      key: project.id,\n      style: {\n        fontSize: 18\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, project.title)));\n  }, // one page's SWR => offset of next page\n  ({\n    data: projects\n  }) => {\n    setPageIn(pageIn + 1);\n    const page = pageIn; // return the last element id here\n\n    return projects && projects.length ? page : null;\n  }, // deps of the page component\n  []);\n  return __jsx(\"div\", {\n    style: {\n      paddingRight: 8,\n      paddingLeft: 8,\n      alignItems: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, __jsx(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Church App Pagination Tests\"), pages, __jsx(\"button\", {\n    onClick: loadMore,\n    disabled: isReachingEnd || isLoadingMore,\n    style: {\n      marginLeft: \"auto\",\n      marginRight: \"auto\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, isLoadingMore ? '. . .' : isReachingEnd ? 'You have reached the end' : 'Load more'));\n});","map":{"version":3,"sources":["/Users/mrmages/Desktop/GHMEEC/pagination/pages/index.js"],"names":["useState","fetch","Link","useSWR","useSWRPages","SWRConfig","pageIn","setPageIn","pages","isLoadingMore","isReachingEnd","loadMore","offset","withSWR","link","console","log","data","projects","error","fetcher","refreshInterval","map","project","index","toString","alignItems","image","width","sheight","id","fontSize","title","page","length","paddingRight","paddingLeft","marginLeft","marginRight"],"mappings":"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","sourcesContent":["import {useState} from 'react'\nimport fetch from '../libs/fetch'\nimport Link from 'next/link'\n\nimport useSWR, { useSWRPages,SWRConfig } from 'swr'\n\nexport default () => {\n  const [pageIn,setPageIn]=useState(2)\n  const {\n    pages,\n    isLoadingMore,\n    isReachingEnd,\n    loadMore\n  } = useSWRPages(\n    // page key\n    'demo-page',\n\n    // page component\n    ({ offset, withSWR }) => {\n      const link='https://us-east-1.aws.webhooks.mongodb-stitch.com/api/client/v2.0/app/the-ocean-app-ycpma/service/API/incoming_webhook/getNewsFeedsInPages?page=' + (offset || 1);\n      console.log(\"Link : \",link )\n      const { data: projects,error } = withSWR(\n        // use the wrapper to wrap the *pagination API SWR*\n        useSWR(link, { fetcher:fetch,refreshInterval: 0 })\n      )\n      // you can still use other SWRs outside\n      \n      if(error){\n        return <p>No internet connection</p>\n      }\n      if (!projects) {\n        return <p>loading</p>\n      }\n\n      return projects.map((project,index) => \n        <div key={index+\"_\"+(Date.now().toString)} style={{\n           alignItems: \"center\",\n        }}>\n          <img src={project.image} alt=\"Image\" style={{width:\"100%\",sheight:\"auto\"}}/>\n          <p key={project.id} style={{fontSize:18}}>{project.title}</p>\n        </div>\n      )\n    },\n\n    // one page's SWR => offset of next page\n    ({ data: projects }) => {\n      setPageIn(pageIn+1)\n      const page=pageIn\n\n      // return the last element id here\n      return projects && projects.length\n        ? page\n        : null\n    },\n\n    // deps of the page component\n    []\n  )\n  \n  return <div style={{\n          paddingRight:8,\n          paddingLeft:8,\n          alignItems: \"center\",\n         }}>\n\n    <h2>Church App Pagination Tests</h2>\n\n     {pages}\n    <button onClick={loadMore} disabled={isReachingEnd || isLoadingMore}\n      style={\n        {\n          marginLeft:\"auto\",\n          marginRight:\"auto\"\n        }\n      }\n    >\n      {isLoadingMore ? '. . .' : isReachingEnd ? 'You have reached the end' : 'Load more'}\n    </button>\n    \n  </div>\n}\n"]},"metadata":{},"sourceType":"module"}
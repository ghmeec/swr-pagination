{"ast":null,"code":"import _Date$now from \"@babel/runtime-corejs2/core-js/date/now\";\nvar _jsxFileName = \"/Users/mrmages/Desktop/GHMEEC/pagination/pages/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from 'react';\nimport fetch from '../libs/fetch';\nimport Link from 'next/link';\nimport useSWR, { useSWRPages, SWRConfig } from 'swr';\nexport default (function () {\n  var _useState = useState(2),\n      pageIn = _useState[0],\n      setPageIn = _useState[1];\n\n  var _useSWRPages = useSWRPages( // page key\n  'demo-page', // page component\n  function (_ref) {\n    var offset = _ref.offset,\n        withSWR = _ref.withSWR;\n    var link = 'https://us-east-1.aws.webhooks.mongodb-stitch.com/api/client/v2.0/app/the-ocean-app-ycpma/service/API/incoming_webhook/getNewsFeedsInPages?page=' + (offset || 1);\n\n    var _withSWR = withSWR( // use the wrapper to wrap the *pagination API SWR*\n    useSWR(link, {\n      fetcher: fetch,\n      refreshInterval: 0\n    })),\n        projects = _withSWR.data,\n        error = _withSWR.error; // you can still use other SWRs outside\n\n\n    if (error) {\n      return __jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, \"No internet connection\");\n    }\n\n    if (!projects) {\n      return __jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, \"loading\");\n    }\n\n    return projects.map(function (project, index) {\n      return __jsx(\"div\", {\n        key: index + \"_\" + _Date$now().toString,\n        style: {\n          alignItems: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, __jsx(\"img\", {\n        src: project.image,\n        alt: \"Image\",\n        style: {\n          width: \"100%\",\n          sheight: \"auto\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }), __jsx(\"p\", {\n        key: project.id,\n        style: {\n          fontSize: 18\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, project.title));\n    });\n  }, // one page's SWR => offset of next page\n  function (_ref2) {\n    var projects = _ref2.data;\n    setPageIn(pageIn + 1);\n    var page = pageIn; // return the last element id here\n\n    return projects && projects.length ? page : null;\n  }, // deps of the page component\n  []),\n      pages = _useSWRPages.pages,\n      isLoadingMore = _useSWRPages.isLoadingMore,\n      isReachingEnd = _useSWRPages.isReachingEnd,\n      loadMore = _useSWRPages.loadMore;\n\n  return __jsx(\"div\", {\n    style: {\n      paddingRight: 8,\n      paddingLeft: 8,\n      alignItems: \"center\",\n      textAlign: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, __jsx(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \"Church App Pagination Tests\"), pages, __jsx(\"button\", {\n    onClick: loadMore,\n    disabled: isReachingEnd || isLoadingMore,\n    style: {\n      marginLeft: \"auto\",\n      marginRight: \"auto\",\n      width: 200,\n      height: 40,\n      backgroundColor: \"#006d9c\",\n      color: \"white\",\n      borderRadius5: \"5\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, isLoadingMore ? '. . .' : isReachingEnd ? 'You have reached the end' : 'Load more'));\n});","map":{"version":3,"sources":["/Users/mrmages/Desktop/GHMEEC/pagination/pages/index.js"],"names":["useState","fetch","Link","useSWR","useSWRPages","SWRConfig","pageIn","setPageIn","offset","withSWR","link","fetcher","refreshInterval","projects","data","error","map","project","index","toString","alignItems","image","width","sheight","id","fontSize","title","page","length","pages","isLoadingMore","isReachingEnd","loadMore","paddingRight","paddingLeft","textAlign","marginLeft","marginRight","height","backgroundColor","color","borderRadius5"],"mappings":"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","sourcesContent":["import {useState} from 'react'\nimport fetch from '../libs/fetch'\nimport Link from 'next/link'\n\nimport useSWR, { useSWRPages,SWRConfig } from 'swr'\n\nexport default () => {\n  const [pageIn,setPageIn]=useState(2)\n  const {\n    pages,\n    isLoadingMore,\n    isReachingEnd,\n    loadMore\n  } = useSWRPages(\n    // page key\n    'demo-page',\n\n    // page component\n    ({ offset, withSWR }) => {\n      const link='https://us-east-1.aws.webhooks.mongodb-stitch.com/api/client/v2.0/app/the-ocean-app-ycpma/service/API/incoming_webhook/getNewsFeedsInPages?page=' + (offset || 1);\n      \n      const { data: projects,error } = withSWR(\n        // use the wrapper to wrap the *pagination API SWR*\n        useSWR(link, { fetcher:fetch,refreshInterval: 0 })\n      )\n      // you can still use other SWRs outside\n      \n      if(error){\n        return <p>No internet connection</p>\n      }\n      if (!projects) {\n        return <p>loading</p>\n      }\n\n      \n      return projects.map((project,index) => \n        <div key={index+\"_\"+(Date.now().toString)} style={{\n           alignItems: \"center\",\n        }}>\n          <img src={project.image} alt=\"Image\" style={{width:\"100%\",sheight:\"auto\"}}/>\n          <p key={project.id} style={{fontSize:18}}>{project.title}</p>\n        </div>\n      )\n    },\n\n    // one page's SWR => offset of next page\n    ({ data: projects }) => {\n      setPageIn(pageIn+1)\n      const page=pageIn\n\n      // return the last element id here\n      return projects && projects.length\n        ? page\n        : null\n    },\n\n    // deps of the page component\n    []\n  )\n  \n  return <div style={{\n          paddingRight:8,\n          paddingLeft:8,\n          alignItems: \"center\",\n          textAlign:\"center\"\n         }}>\n\n    <h2>Church App Pagination Tests</h2>\n\n     {pages}\n    <button onClick={loadMore} disabled={isReachingEnd || isLoadingMore}\n      style={\n        {\n          marginLeft:\"auto\",\n          marginRight:\"auto\",\n          width:200,\n          height:40,\n          backgroundColor:\"#006d9c\",\n          color:\"white\",\n          borderRadius5:\"5\"\n        }\n      }\n    >\n      {isLoadingMore ? '. . .' : isReachingEnd ? 'You have reached the end' : 'Load more'}\n    </button>\n    \n  </div>\n}\n"]},"metadata":{},"sourceType":"module"}